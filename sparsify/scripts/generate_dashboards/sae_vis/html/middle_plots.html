<h4>ACTIVATIONS<br>DENSITY = FRAC_NONZERO</h4>

<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>




<!-- Activation densities histogram -->

<div>
    <div id="histogram-acts" class="plotly-hist" style="height: 150px; margin-top: 0px;"></div>
</div>


<!-- Logits table -->

<div class="logits-table">

    <div style="width:47%;">
    
        <h4>NEGATIVE LOGITS</h4>
        <table class="table-left code-bold">
            <tr><td class="left-aligned"><code style="background-color: C0">S0</code></td><td class="right-aligned">V0</td>
            <tr><td class="left-aligned"><code style="background-color: C1">S1</code></td><td class="right-aligned">V1</td>
            <tr><td class="left-aligned"><code style="background-color: C2">S2</code></td><td class="right-aligned">V2</td>
            <tr><td class="left-aligned"><code style="background-color: C3">S3</code></td><td class="right-aligned">V3</td>
            <tr><td class="left-aligned"><code style="background-color: C4">S4</code></td><td class="right-aligned">V4</td>
            <tr><td class="left-aligned"><code style="background-color: C5">S5</code></td><td class="right-aligned">V5</td>
            <tr><td class="left-aligned"><code style="background-color: C6">S6</code></td><td class="right-aligned">V6</td>
            <tr><td class="left-aligned"><code style="background-color: C7">S7</code></td><td class="right-aligned">V7</td>
            <tr><td class="left-aligned"><code style="background-color: C8">S8</code></td><td class="right-aligned">V8</td>
            <tr><td class="left-aligned"><code style="background-color: C9">S9</code></td><td class="right-aligned">V9</td>
        </table>
    
    </div>

    <div style="width:5%;"></div>
    
    <div style="width:47%;">
    
        <h4>POSITIVE LOGITS</h4>
        <table class="table-left code-bold">
            <tr><td class="left-aligned"><code style="background-color: C0">S0</code></td><td class="right-aligned">V0</td>
            <tr><td class="left-aligned"><code style="background-color: C1">S1</code></td><td class="right-aligned">V1</td>
            <tr><td class="left-aligned"><code style="background-color: C2">S2</code></td><td class="right-aligned">V2</td>
            <tr><td class="left-aligned"><code style="background-color: C3">S3</code></td><td class="right-aligned">V3</td>
            <tr><td class="left-aligned"><code style="background-color: C4">S4</code></td><td class="right-aligned">V4</td>
            <tr><td class="left-aligned"><code style="background-color: C5">S5</code></td><td class="right-aligned">V5</td>
            <tr><td class="left-aligned"><code style="background-color: C6">S6</code></td><td class="right-aligned">V6</td>
            <tr><td class="left-aligned"><code style="background-color: C7">S7</code></td><td class="right-aligned">V7</td>
            <tr><td class="left-aligned"><code style="background-color: C8">S8</code></td><td class="right-aligned">V8</td>
            <tr><td class="left-aligned"><code style="background-color: C9">S9</code></td><td class="right-aligned">V9</td>
        </table>
    
    </div>
    
</div>



<!-- Logits histogram -->

<div>
    <div id="histogram-logits" class="plotly-hist" style="height: 150px; margin-top: 0px;"></div>
</div>

<script>



var barHeightsLogits = BAR_HEIGHTS_LOGITS;
var binValuesLogits = BAR_VALUES_LOGITS;

// Create an array of tracesLogits, one for positive and one for negative bars
var tracesLogits = [
    {
        x: binValuesLogits.filter(value => value >= 0),
        y: barHeightsLogits.filter((_, i) => binValuesLogits[i] >= 0),
        type: 'bar',
        marker: {
        color: 'rgba(0, 0, 255, 0.5)'
        }
    },
    {
        x: binValuesLogits.filter(value => value < 0),
        y: barHeightsLogits.filter((_, i) => binValuesLogits[i] < 0),
        type: 'bar',
        marker: {
        color: 'rgba(255, 0, 0, 0.5)'
        }
    }
];

// Layout Configuration
var layoutLogits = {
    paper_bgcolor: 'white',
    plot_bgcolor: 'white',
    xaxis: {
        gridcolor: 'lightgrey',
        zerolinecolor: 'lightgrey',
        tickvals: TICK_VALS_LOGITS,
    },
    yaxis: {
        gridcolor: 'lightgrey',
        zerolinecolor: 'lightgrey'
    },
    barmode: 'relative',
    bargap: 0.05,
    showlegend: false,
    margin: {
        l: 50,
        r: 25,
        b: 25,
        t: 25,
        pad: 4
    },
    paper_bgcolor: 'rgba(0,0,0,0)',
    plot_bgcolor: 'rgba(0,0,0,0)',
    responsive: true,
};

// Plot the histogram
Plotly.newPlot('histogram-logits', tracesLogits, layoutLogits, {responsive: true, displayModeBar: false});

var barHeightsFreq = BAR_HEIGHTS_FREQ;
var binValuesFreq = BAR_VALUES_FREQ;
var binColorsFreq = BAR_COLORS_FREQ;

var tracesFreq = [
    {
        x: binValuesFreq,
        y: barHeightsFreq,
        type: 'bar',
        marker: {
            color: binColorsFreq
        }
    },
];

// Layout Configuration
var layoutFreq = {
    paper_bgcolor: 'white',
    plot_bgcolor: 'white',
    xaxis: {
        gridcolor: 'lightgrey',
        zerolinecolor: 'lightgrey',
        tickvals: TICK_VALS_FREQ,
    },
    yaxis: {
        gridcolor: 'lightgrey',
        zerolinecolor: 'lightgrey'
    },
    barmode: 'relative',
    bargap: 0.05,
    showlegend: false,
    margin: {
        l: 50,
        r: 25,
        b: 25,
        t: 25,
        pad: 4
    },
    paper_bgcolor: 'rgba(0,0,0,0)',
    plot_bgcolor: 'rgba(0,0,0,0)',
    responsive: true,
};

// Plot the histogram
Plotly.newPlot('histogram-acts', tracesFreq, layoutFreq, {responsive: true, displayModeBar: false});

</script>